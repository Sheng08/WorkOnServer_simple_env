FROM ubuntu:20.04

WORKDIR /app

RUN apt update && \
    apt install -y \
    python3 \
    python3-pip && \
    apt clean && \
    rm -rf /var/lib/apt/lists/*

RUN pip3 --no-cache-dir install torch \
    torchvision \
    torchaudio --extra-index-url https://download.pytorch.org/whl/cpu \
    tensorboard \
    jupyterlab

CMD ["jupyter", "notebook", "--ip=0.0.0.0", "--port=8888", "--no-browser", "--allow-root"]

EXPOSE 8888
